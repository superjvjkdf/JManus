import{d as L,u as O,r as y,c as g,Y as P,o as j,D as S,a as u,b as r,e as l,f as v,g as w,i as d,t as h,j as E,F,q as $,n as I,l as k,Z as R}from"./index-DDyEo--X.js";import{I as p,_ as V}from"./_plugin-vue_export-helper-CteboPq4.js";const N={class:"language-switcher"},x=["title"],A={class:"current-lang"},D={class:"dropdown-header"},B={class:"language-options"},U=["disabled","onClick"],q={class:"lang-code"},J={class:"lang-name"},M=L({__name:"LanguageSwitcher",setup(C){const{locale:a}=O(),e=y(!1),t=g(()=>a.value),i=g(()=>P.opts),_=g(()=>{const n=i.value.find(s=>s.value===t.value);return n?n.title:"Unknown"}),b=()=>{e.value=!e.value},c=y(!1),T=async n=>{if(!(c.value||t.value===n))try{c.value=!0,await R(n),e.value=!1}catch(s){console.error("Failed to change language:",s),e.value=!1}finally{c.value=!1}},m=n=>{n.target.closest(".language-switcher")||(e.value=!1)},f=n=>{n.key==="Escape"&&(e.value=!1)};return j(()=>{document.addEventListener("click",m),document.addEventListener("keydown",f)}),S(()=>{document.removeEventListener("click",m),document.removeEventListener("keydown",f)}),(n,s)=>(r(),u("div",N,[l("button",{class:"language-btn",onClick:b,title:n.$t("language.switch")},[w(d(p),{icon:"carbon:translate",width:"18"}),l("span",A,h(_.value),1),w(d(p),{icon:e.value?"carbon:chevron-up":"carbon:chevron-down",width:"14",class:"chevron"},null,8,["icon"])],8,x),e.value?(r(),u("div",{key:0,class:"language-dropdown",onClick:s[1]||(s[1]=E(()=>{},["stop"]))},[l("div",D,[l("span",null,h(n.$t("language.switch")),1),l("button",{class:"close-btn",onClick:s[0]||(s[0]=o=>e.value=!1)},[w(d(p),{icon:"carbon:close",width:"16"})])]),l("div",B,[(r(!0),u(F,null,$(i.value,o=>(r(),u("button",{key:o.value,class:I(["language-option",{active:t.value===o.value,loading:c.value&&t.value!==o.value}]),disabled:c.value,onClick:z=>T(o.value)},[l("span",q,h(o.value.toUpperCase()),1),l("span",J,h(o.title),1),c.value&&t.value!==o.value?(r(),k(d(p),{key:0,icon:"carbon:circle-dash",width:"16",class:"loading-icon"})):t.value===o.value?(r(),k(d(p),{key:1,icon:"carbon:checkmark",width:"16",class:"check-icon"})):v("",!0)],10,U))),128))])])):v("",!0),e.value?(r(),u("div",{key:1,class:"backdrop",onClick:s[2]||(s[2]=o=>e.value=!1)})):v("",!0)]))}}),Y=V(M,[["__scopeId","data-v-6951f85e"]]);class Z{static async handleResponse(a){if(!a.ok)try{const e=await a.json(),t=e.error||e.message||`API request failed: ${a.status}`,i=new Error(t);throw e.errorCode&&(i.errorCode=e.errorCode),i}catch(e){throw e instanceof Error?e:new Error(`API request failed: ${a.status} ${a.statusText}`)}return a}static async createOrUpdatePlanTemplateWithTool(a){try{const e=await fetch("/api/plan-template/create-or-update-with-tool",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return await(await this.handleResponse(e)).json()}catch(e){throw console.error("Failed to create or update plan template with tool:",e),e}}static async getPlanTemplateConfigVO(a){try{const e=await fetch(`/api/plan-template/${a}/config`);return await(await this.handleResponse(e)).json()}catch(e){throw console.error("Failed to get plan template config VO:",e),e}}static async getAllPlanTemplateConfigVOs(){try{const a=await fetch("/api/plan-template/list-config");return await(await this.handleResponse(a)).json()}catch(a){throw console.error("Failed to get all plan template config VOs:",a),a}}static async deletePlanTemplate(a){try{const e=await fetch("/api/plan-template/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:a})});return await(await this.handleResponse(e)).json()}catch(e){throw console.error("Failed to delete plan template:",e),e}}static async exportAllPlanTemplates(){try{const a=await fetch("/api/plan-template/export-all");return await(await this.handleResponse(a)).json()}catch(a){throw console.error("Failed to export all plan templates:",a),a}}static async importPlanTemplates(a){try{const e=await fetch("/api/plan-template/import-all",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return await(await this.handleResponse(e)).json()}catch(e){throw console.error("Failed to import plan templates:",e),e}}}export{Y as L,Z as P};
//# sourceMappingURL=plan-template-with-tool-api-service-BZqjfE8u.js.map
